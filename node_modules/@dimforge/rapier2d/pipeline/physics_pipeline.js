import { RawPhysicsPipeline } from "../raw";
import { VectorOps } from "../math";
var PhysicsPipeline = /** @class */ (function () {
    function PhysicsPipeline(raw) {
        this.raw = raw || new RawPhysicsPipeline();
    }
    PhysicsPipeline.prototype.free = function () {
        this.raw.free();
        this.raw = undefined;
    };
    PhysicsPipeline.prototype.step = function (gravity, integrationParameters, islands, broadPhase, narrowPhase, bodies, colliders, joints, ccdSolver, eventQueue, hooks) {
        var rawG = VectorOps.intoRaw(gravity);
        if (!!eventQueue) {
            this.raw.stepWithEvents(rawG, integrationParameters.raw, islands.raw, broadPhase.raw, narrowPhase.raw, bodies.raw, colliders.raw, joints.raw, ccdSolver.raw, eventQueue.raw, hooks, !!hooks ? hooks.filterContactPair : null, !!hooks ? hooks.filterIntersectionPair : null);
        }
        else {
            this.raw.step(rawG, integrationParameters.raw, islands.raw, broadPhase.raw, narrowPhase.raw, bodies.raw, colliders.raw, joints.raw, ccdSolver.raw);
        }
        rawG.free();
    };
    return PhysicsPipeline;
}());
export { PhysicsPipeline };
//# sourceMappingURL=physics_pipeline.js.map